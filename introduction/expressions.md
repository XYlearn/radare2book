## 表达式

表达式指64位数值的数学表示。它们可以用不同的形式表示，可以被用于比较或传入接受数值参数的所有指令。表达式可以使用传统算数符号，也可以使用位运算符和逻辑运算符。在数学表达式前使用指令`?`可以计算该表达式。例如：

    [0xB7F9D810]> ? 0x8048000
    134512640 0x8048000 01001100000 128.0M 804000:0000 134512640 00000000 134512640.0 0.000000  
    [0xB7F9D810]> ? 0x8048000+34
    134512674 0x8048022 01001100042 128.0M 804000:0022 134512674 00100010 134512674.0 0.000000  
    [0xB7F9D810]> ? 0x8048000+0x34
    134512692 0x8048034 01001100064 128.0M 804000:0034 134512692 00110100 134512692.0 0.000000  
    [0xB7F9D810]> ? 1+2+3-4*3
    -6 0xfffffffffffffffa 01777777777777777777772 17179869183.0G fffff000:0ffa -6   

支持的算数运算符有：

 *   \+ : 加
 *   \- : 减
 *   \* : 乘
 *   / : 除
 *   % : 求模
 *   \> : 右移
 *   < : 左移

使用逻辑运算符或时应该使用引号避免转义，否则它会被当成管道符号：

    [0x00000000]> "? 1 | 2"
    3 0x3 03 3 0000:0003 3 "\x03" 00000011 2.0 2.000000f 2.000000

数字可以用多种方式显示：

    0x033   : 十六进制
    3334    : 十进制
    sym.fo  : 解析标志符号偏移
    10K     : 千字节KB  10*1024
    10M     : 兆字节MB  10*1024*1024

你也可以使用变量和seek来构建复杂表达式。可用的变量包括：

    ?@?    或输入 @@?      ; '@'(seek), '~'(grep)的帮助
    ?$?           ; 显示可用的'$'变量
    $$            ; 当前位置
    $l            ; opcde的长度
    $s            ; 文件大小
    $j            ; 成功跳转地址（例如 jmp 0x10, jz 0x10 => 0x10）
    $f            ; 失败跳转地址 (例如 jz 0x10 => 下一跳指令地址)
    $m            ; opcode中的内存引用 (例如 mov eax,[0x10] => 0x10)
（译者注：?@?和@@?内容不一样）

一些其他例子：

    [0x4A13B8C0]> ? $m + $l
    140293837812900 0x7f98b45df4a4 03771426427372244 130658.0G 8b45d000:04a4 140293837812900 10100100 140293837812900.0 -0.000000


    [0x4A13B8C0]> pd 1 @ +$l
    0x4A13B8C2   call 0x4a13c000
